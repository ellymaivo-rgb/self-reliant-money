<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M·ª•c Ti√™u Ti·∫øt Ki·ªám - T√†i Ch√≠nh Gia ƒê√¨nh</title>
    <meta name="description" content="L·∫≠p k·∫ø ho·∫°ch ti·∫øt ki·ªám ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u t√†i ch√≠nh.">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/calculator.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../index.html"><h2><img src="../assets/logo.svg" alt="Self-Reliant Money Logo" class="logo-icon">Self-Reliant Money</h2></a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="../index.html" class="nav-link">Trang Ch·ªß</a></li>
                <li class="nav-item"><a href="../index.html#courses" class="nav-link">Kh√≥a H·ªçc</a></li>
                <li class="nav-item"><a href="../index.html#tools" class="nav-link">C√¥ng C·ª•</a></li>
                <li class="nav-item"><a href="../index.html#contact" class="nav-link">Li√™n H·ªá</a></li>
                <li class="nav-item"><button class="lang-toggle" onclick="toggleLanguage()">üåê EN</button></li>
            </ul>
        </div>
    </nav>

    <section class="tool-header">
        <div class="container">
            <h1>üéØ M·ª•c Ti√™u Ti·∫øt Ki·ªám</h1>
            <p>L·∫≠p k·∫ø ho·∫°ch ti·∫øt ki·ªám ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u c·ªßa b·∫°n</p>
        </div>
    </section>

    <div class="tool-container">
        <div class="calculator-card">
            <h2>ƒê·∫∑t M·ª•c Ti√™u C·ªßa B·∫°n</h2>
            
            <div class="input-group">
                <label>T√™n m·ª•c ti√™u:</label>
                <input type="text" id="goal-name" placeholder="V√≠ d·ª•: Mua nh√†, Du l·ªãch, Qu·ªπ kh·∫©n c·∫•p">
            </div>

            <div class="input-group">
                <label>S·ªë ti·ªÅn m·ª•c ti√™u (VNƒê):</label>
                <input type="number" id="goal-amount" placeholder="V√≠ d·ª•: 500000000">
            </div>

            <div class="input-group">
                <label>S·ªë ti·ªÅn hi·ªán c√≥ (VNƒê):</label>
                <input type="number" id="current-savings" placeholder="V√≠ d·ª•: 50000000">
            </div>

            <div class="input-group">
                <label>Th·ªùi h·∫°n (th√°ng):</label>
                <input type="number" id="time-frame" placeholder="V√≠ d·ª•: 36">
            </div>

            <div class="input-group">
                <label>L√£i su·∫•t d·ª± ki·∫øn (%/nƒÉm):</label>
                <input type="number" step="0.1" id="expected-return" placeholder="V√≠ d·ª•: 6">
            </div>

            <button class="calculate-btn" onclick="calculateSavingsGoal()">T√≠nh To√°n K·∫ø Ho·∫°ch</button>

            <div id="savings-results" class="results-section" style="display: none;">
                <h3>K·∫ø Ho·∫°ch Ti·∫øt Ki·ªám</h3>
                <div class="result-grid">
                    <div class="result-item">
                        <h4>C·∫ßn ti·∫øt ki·ªám m·ªói th√°ng</h4>
                        <span id="monthly-savings-needed" class="result-amount"></span>
                    </div>
                    <div class="result-item">
                        <h4>T·ªïng ti·ªÅn c·∫ßn g·ª≠i</h4>
                        <span id="total-to-save" class="result-amount"></span>
                    </div>
                    <div class="result-item">
                        <h4>L√£i d·ª± ki·∫øn</h4>
                        <span id="expected-interest" class="result-amount"></span>
                    </div>
                </div>
                <div id="goal-advice" class="recommendations"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><img src="../assets/logo.svg" alt="Self-Reliant Money Logo" class="logo-icon">Self-Reliant Money</h3>
                    <p>X√¢y d·ª±ng t∆∞∆°ng lai t√†i ch√≠nh v·ªØng ch·∫Øc cho gia ƒë√¨nh b·∫°n</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 T√†i Ch√≠nh Gia ƒê√¨nh. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
            </div>
        </div>
    </footer>

    <script src="../scripts/main.js"></script>
    <script src="../scripts/i18n.js"></script>
    <script>
    function calculateSavingsGoal() {
        const goalName = document.getElementById('goal-name').value || 'M·ª•c ti√™u';
        const goalAmount = parseFloat(document.getElementById('goal-amount').value) || 0;
        const currentSavings = parseFloat(document.getElementById('current-savings').value) || 0;
        const months = parseFloat(document.getElementById('time-frame').value) || 0;
        const annualRate = parseFloat(document.getElementById('expected-return').value) || 0;

        const monthlyRate = annualRate / 100 / 12;
        const amountNeeded = goalAmount - currentSavings;
        
        let monthlySavings;
        if (monthlyRate > 0) {
            monthlySavings = amountNeeded * monthlyRate / (Math.pow(1 + monthlyRate, months) - 1);
        } else {
            monthlySavings = amountNeeded / months;
        }

        const totalToSave = monthlySavings * months;
        const expectedInterest = goalAmount - currentSavings - totalToSave;

        document.getElementById('monthly-savings-needed').textContent = monthlySavings.toLocaleString('vi-VN', {maximumFractionDigits: 0}) + ' VNƒê';
        document.getElementById('total-to-save').textContent = totalToSave.toLocaleString('vi-VN', {maximumFractionDigits: 0}) + ' VNƒê';
        document.getElementById('expected-interest').textContent = expectedInterest.toLocaleString('vi-VN', {maximumFractionDigits: 0}) + ' VNƒê';

        let advice = '<h4>L·ªùi Khuy√™n:</h4><ul>';
        advice += '<li>üéØ M·ª•c ti√™u: ' + goalName + '</li>';
        advice += '<li>üìÖ B·∫°n c·∫ßn ti·∫øt ki·ªám ƒë·ªÅu ƒë·∫∑n trong ' + months + ' th√°ng</li>';
        advice += '<li>üí° H√£y thi·∫øt l·∫≠p chuy·ªÉn kho·∫£n t·ª± ƒë·ªông ƒë·ªÉ ƒë·∫£m b·∫£o ƒë√∫ng ti·∫øn ƒë·ªô</li>';
        if (monthlySavings > 10000000) {
            advice += '<li>‚ö†Ô∏è S·ªë ti·ªÅn c·∫ßn ti·∫øt ki·ªám m·ªói th√°ng kh√° cao. C√¢n nh·∫Øc k√©o d√†i th·ªùi gian ho·∫∑c tƒÉng l√£i su·∫•t ƒë·∫ßu t∆∞</li>';
        }
        advice += '</ul>';
        document.getElementById('goal-advice').innerHTML = advice;
        document.getElementById('savings-results').style.display = 'block';
    }
    </script>
</body>
</html>
